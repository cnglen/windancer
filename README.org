An [[https://orgmode.org/][org-mode]] toolkit, including parser, renderer.

* Usage

** How to use?

#+begin_src bash
  cargo install windancer
  windancer --help
#+end_src

see [[file:docs/status.org][status]] for status.

** development

#+begin_src bash
  cargo test

  # bench
  cargo bench
  # performance
  cargo flamegraph --example main
  perf report
#+end_src


* change log

- 2026-01-15 13:42:49: Support parse/render from input directory to output directory
- 2026-01-05 20:12:45: Remove Rollback state, using ctx and *inp.full_slice()* to visit PRE(previous char), parse speed is 2x (for test file: 50ms -> 26ms). Note since chumsky full_slice() API is not public, so only local version chumsky worked. See [[https://github.com/zesterer/chumsky/issues/943][chumsky issue 946]]



* Planning

- keyword: multple parser, search k2v, keyword
- support config of subscript
- Error: Rich maybe slow
- use group rather then nested then?
- image width: max?
- toc; section: which is index?
  - next
  - prev
  - table of contents
- link: roam node id?
  

** about index.html

index.html is recogized if filename is the same to parent directory.


** PRE during parsing

https://github.com/zesterer/chumsky/issues/943

- get byte index of previous utf8 char from input, rather than using state.
- require chumsky's have public APT to visit the raw_input, such as InputRef::full_slice() be public.


* Reference

- [[https://orgmode.org/worg/org-syntax.html][org-syntax]]
- [[https://github.com/zesterer/chumsky][chumsky]]
- [[https://github.com/tfeldmann/organize][orgize]]
- mdbook
